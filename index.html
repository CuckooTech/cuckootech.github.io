<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="Cuckoo is a decentralized video player based on P2P connection.Cuckoo is free and always will be.Anyone or group can search, make, share and watch your favorite videos in Cuckoo without any limits or registration.">
        <meta name="author" content="Cuckoo Team.">
        <title>Cuckoo - See the world. Make the world.</title>
        <link href="./assets/css/bootstrap.min.css" rel="stylesheet">
        <link href="./assets/css/font-awesome.min.css" rel="stylesheet">
    </head>
    <body ondragstart="return false">
        <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
            <img src="./assets/img/Cuckoo.jpg" alt="Cuckoo" width="128" />
            <h1 class="display-4 mt-2">Cuckoo</h1>
            <p class="lead">
                See the world. Make the world.
                <a href="./about.html">More</a>
            </p>
            <p><span id="latestVersion"></span><br/><span id="currentVersion" class="small"></span></p>
        </div>

        <div class="container">

            <div class="card-deck mb-3 text-center">

                <div class="card mb-4 box-shadow">
                    <div class="card-header">
                        <h4 class="my-0 font-weight-normal">Cuckoo for Windows</h4>
                    </div>
                    <div class="card-body">
                        <a id="win32Install" target="_blank" class="btn btn-lg btn-block btn-outline-primary" href="https://github.com/CuckooTech/release">Get Installer</a>
                        <a id="win32ZIP" target="_blank" class="btn btn-lg btn-block btn-outline-primary" href="https://github.com/CuckooTech/release">Get Portable</a>
                    </div>
                </div>

                <div class="card mb-4 box-shadow">
                    <div class="card-header">
                        <h4 class="my-0 font-weight-normal">Cuckoo for macOS</h4>
                    </div>
                    <div class="card-body">
                        <a id="macInstall" target="_blank" href="https://github.com/CuckooTech/release" class="btn btn-lg btn-block btn-outline-primary">Get Installer</a>
                        <a id="macZIP" target="_blank" href="https://github.com/CuckooTech/release" class="btn btn-lg btn-block btn-outline-primary">Get Portable</a>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm">
                    <img src="./assets/img/cuckoo-index.png" class="img-thumbnail" style="cursor: pointer;">
                </div>
                <div class="col-sm">
                    <img src="./assets/img/cuckoo-list.png" class="img-thumbnail" style="cursor: pointer;">
                </div>
                <div class="col-sm">
                    <img src="./assets/img/cuckoo-player.png" class="img-thumbnail" style="cursor: pointer;">
                </div>
            </div>

            <footer class="pt-4 my-md-5 pt-md-5 border-top">
                <div class="row">
                    <div class="col-12 col-md-6">
                        <h5>
                            <a class="text-dark" href="./index.html">Cuckoo</a>
                        </h5>
                        <small class="d-block mb-3 text-muted">
                            Cuckoo is a decentralized video player based on P2P connection.Cuckoo is free and always will be.Anyone or group can search, make, share and watch your favorite videos in Cuckoo without any limits or registration. 
                        </small>
                    </div>

                    <div class="col-4 col-md-2">
                        <h5>
                            <a class="text-dark" href="./about.html">About</a>
                        </h5>
                        <ul class="list-unstyled text-small">
                            <li><a class="text-muted" href="./docs.html">Docs</a></li>
                            <li><a class="text-muted" href="./faq.html">FAQ</a></li>
                            <li><a class="text-muted" href="./donate.html">Donate</a></li>
                        </ul>
                    </div>

                    <div class="col-4 col-md-2">
                        <h5>
                            <a class="text-dark" href="./index.html">Desktop Apps</a>
                        </h5>
                        <ul class="list-unstyled text-small">
                            <li><a id="win32Install2" target="_blank" class="text-muted" href="https://github.com/CuckooTech/release">Windows</a></li>
                            <li><a id="macInstall2" target="_blank" class="text-muted" href="https://github.com/CuckooTech/release">macOS</a></li>
                        </ul>
                    </div>

                    <div class="col-4 col-md-2">
                        <h5>
                            <a class="text-dark" target="blank" href="https://github.com/CuckooTech">Links</a>
                        </h5>
                        <ul class="list-unstyled text-small">
                            <li><a class="text-muted" target="blank" href="https://github.com/CuckooTech/release">GitHub</a></li>
                            <li><a class="text-muted" target="blank" href="https://t.me/CuckooOfficialGroup">Telegram</a></li>
                        </ul>
                    </div>
                </div>
            </footer>
        </div>

        <div class="modal fade" id="imgModal">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <img class="img-fluid">
                </div>
            </div>
        </div>

        <script src="./assets/js/base.js"></script>
        <script src="./assets/js/jquery.js"></script>
        <script src="./assets/js/popper.min.js"></script>
        <script src="./assets/js/bootstrap.min.js"></script>
        <script type="text/javascript">
            var LATESTVERSION = "";
            document.querySelector("#latestVersion").innerHTML = "";
            var win32Install,win32ZIP,macInstall,macZIP;
            win32Install = win32ZIP = macInstall = macZIP = "https://github.com/CuckooTech/release/releases";
            fetch(CUCKOOGITHUBAPI)
            .then(function (response) {
                return response.json();
            })
            .then((data) => {
                LATESTVERSION = data.tag_name;
                document.querySelector("#latestVersion").innerHTML = LATESTVERSION;
                for (var i = 0; i < data.assets.length; i++) {
                    var re = /(darwin|win32|linux)-(.*?)\.(dmg|zip|exe)/i;
                    match = data.assets[i].name.match(re);
                    downUrl = data.assets[i].browser_download_url;
                    if (match != null) {
                        if (match.length == 4) {
                            if (match[1] == "darwin") {
                                if (match[3] == "dmg") {
                                    macInstall = downUrl
                                } else if (match[3] == "zip"){
                                    macZIP = downUrl
                                }
                            }
                            if (match[1] == "win32") {
                                if (match[3] == "exe") {
                                    win32Install = downUrl
                                } else if (match[3] == "zip"){
                                    win32ZIP = downUrl
                                }
                            }
                        }
                    }
                }

                document.querySelector("#win32Install").setAttribute('href', win32Install);
                document.querySelector("#win32Install").setAttribute('target', '');
                document.querySelector("#win32Install2").setAttribute('href', win32Install);
                document.querySelector("#win32Install2").setAttribute('target', '');
                document.querySelector("#win32ZIP").setAttribute('href', win32ZIP);
                document.querySelector("#win32ZIP").setAttribute('target', '');
                document.querySelector("#macInstall").setAttribute('href', macInstall);
                document.querySelector("#macInstall").setAttribute('target', '');
                document.querySelector("#macInstall2").setAttribute('href', macInstall);
                document.querySelector("#macInstall2").setAttribute('target', '');
                document.querySelector("#macZIP").setAttribute('href', macZIP);
                document.querySelector("#macZIP").setAttribute('target', '');
            });
            function get(name){
               if(name=(new RegExp('[?&]'+encodeURIComponent(name)+'=([^&]*)')).exec(location.search))
                  return decodeURIComponent(name[1]);
            }
            version = get("version");
            if (typeof version !="undefined" && version != "") {
                $("#currentVersion").html("Current Version:v"+version);
            }

            $("img").click(function() {
                $("#imgModal img").attr("src", $(this).attr("src"));
                $("#imgModal").modal("show");
            });
        </script>

    </body>
</html>